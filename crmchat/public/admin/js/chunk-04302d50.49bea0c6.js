(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04302d50"],{"386d":function(t,e,n){"use strict";var r=n("cb7c"),a=n("83a1"),c=n("5f1b");n("214f")("search",1,(function(t,e,n,i){return[function(n){var r=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,r):new RegExp(n)[e](String(r))},function(t){var e=i(n,t,this);if(e.done)return e.value;var o=r(t),u=String(this),s=o.lastIndex;a(s,0)||(o.lastIndex=0);var l=c(o,u);return a(o.lastIndex,s)||(o.lastIndex=s),null===l?-1:l.index}]}))},"4b3d":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"i-layout-page-header"},[n("div",{staticClass:"i-layout-page-header"},[n("span",{staticClass:"ivu-page-header-title"},[t._v(t._s(t.$route.meta.title))])])]),n("Card",{staticClass:"ivu-mt",attrs:{bordered:!1,"dis-hover":""}},[n("Form",{ref:"formValidate",staticClass:"tabform",attrs:{model:t.formValidate,"label-width":t.labelWidth,"label-position":t.labelPosition},nativeOn:{submit:function(t){t.preventDefault()}}},[n("Row",{attrs:{gutter:24}},[n("Col",{staticClass:"ivu-text-left",attrs:{span:"10"}},[n("FormItem",{attrs:{label:"客服：","label-for":"group_id"}},[n("Select",{attrs:{placeholder:"请选择","element-id":"group_id",clearable:""},model:{value:t.search.kefu_id,callback:function(e){t.$set(t.search,"kefu_id",e)},expression:"search.kefu_id"}},[n("Option",{attrs:{value:"all"}},[t._v("全部")]),t._l(t.kefuList,(function(e,r){return n("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.nickname))])}))],2)],1)],1),n("Col",{staticClass:"ivu-text-left",attrs:{span:"24"}},[n("FormItem",{attrs:{label:"时间："}},[n("RadioGroup",{staticClass:"mr",attrs:{type:"button"},on:{"on-change":function(e){return t.selectChange(t.formValidate.time)}},model:{value:t.formValidate.time,callback:function(e){t.$set(t.formValidate,"time",e)},expression:"formValidate.time"}},t._l(t.fromList.fromTxt,(function(e,r){return n("Radio",{key:r,attrs:{label:e.val}},[t._v(t._s(e.text))])})),1),n("DatePicker",{staticStyle:{width:"200px"},attrs:{editable:!1,value:t.timeVal,format:"yyyy/MM/dd",type:"daterange",placement:"bottom-end",placeholder:"自定义时间"},on:{"on-change":t.onchangeTime}})],1)],1),n("Col",{staticClass:"ivu-text-left",attrs:{span:"10"}},[n("FormItem",{attrs:{label:"搜索："}},[n("Input",{attrs:{placeholder:"请输入",clearable:"",search:"","enter-button":""},on:{"on-search":t.selChange},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}})],1)],1)],1)],1),n("Table",{staticClass:"ivu-mt",attrs:{columns:t.columns,data:t.tableData,loading:t.loading,"highlight-row":"","no-userFrom-text":"暂无数据"},scopedSlots:t._u([{key:"action",fn:function(e){var r=e.row,a=e.index;return[n("a",{on:{click:function(e){return t.onEdit(r)}}},[t._v("编辑")]),n("Divider",{attrs:{type:"vertical"}}),n("a",{on:{click:function(e){return t.onDelete(r,"删除反馈",a)}}},[t._v("删除")])]}}])}),n("div",{staticClass:"acea-row row-right page"},[n("Page",{attrs:{total:t.total,"page-size":t.limit,"show-elevator":"","show-total":""},on:{"on-change":t.onChange}})],1)],1)],1)},a=[],c=(n("8e6e"),n("ac6a"),n("456d"),n("386d"),n("ade3")),i=n("90e7"),o=n("2f62");function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){Object(c["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var l={name:"kefu_record",data:function(){return{formValidate:{kefu_id:"",msn:"",time:"",appid:""},searchType:"",searchValue:"",fromList:{title:"选择时间",custom:!0,fromTxt:[{text:"全部",val:""},{text:"今天",val:"today"},{text:"昨天",val:"yesterday"},{text:"最近7天",val:"lately7"},{text:"最近30天",val:"lately30"},{text:"本月",val:"month"},{text:"本年",val:"year"}]},timeVal:[],columns:[{title:"ID",key:"id",width:80},{title:"内容",key:"msn",minWidth:120},{title:"APPID",key:"appid",minWidth:120},{title:"时间",key:"add_time",minWidth:120}],tableData:[],loading:!1,total:0,page:1,limit:15,kefuList:[],search:{kefu_id:0}}},computed:s(s({},Object(o["e"])("media",["isMobile"])),{},{labelWidth:function(){return this.isMobile?void 0:80},labelPosition:function(){return this.isMobile?"top":"right"}}),created:function(){this.chatRecord(),this.recordKefu()},methods:{recordKefu:function(){var t=this;console.log(1111),Object(i["s"])().then((function(e){t.kefuList=e.data}))},chatRecord:function(){var t=this;Object(i["c"])({page:this.page,limit:this.limit,kefu_id:this.search.kefu_id,msn:"msn"==this.searchType&&this.searchValue||"",time:this.formValidate.time,appid:"appid"==this.searchType&&this.searchValue||""}).then((function(e){t.tableData=e.data.list,t.total=e.data.count}))},onChange:function(t){this.page=t,this.chatRecord()},selChange:function(){this.page=1,this.chatRecord()},onchangeTime:function(t){this.timeVal=t,this.formValidate.time=this.timeVal.join("-"),this.page=1,this.chatRecord()},selectChange:function(t){console.log(t),this.formValidate.time=t,this.timeVal=[],this.page=1,this.chatRecord()}}},d=l,f=(n("e014"),n("2877")),h=Object(f["a"])(d,r,a,!1,null,"6b91e9e5",null);e["default"]=h.exports},"57aa":function(t,e,n){},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},"90e7":function(t,e,n){"use strict";n.d(e,"f",(function(){return a})),n.d(e,"e",(function(){return c})),n.d(e,"m",(function(){return i})),n.d(e,"E",(function(){return o})),n.d(e,"A",(function(){return u})),n.d(e,"z",(function(){return s})),n.d(e,"j",(function(){return l})),n.d(e,"k",(function(){return d})),n.d(e,"B",(function(){return f})),n.d(e,"C",(function(){return h})),n.d(e,"D",(function(){return m})),n.d(e,"v",(function(){return p})),n.d(e,"w",(function(){return b})),n.d(e,"t",(function(){return g})),n.d(e,"u",(function(){return v})),n.d(e,"r",(function(){return O})),n.d(e,"l",(function(){return j})),n.d(e,"p",(function(){return k})),n.d(e,"o",(function(){return y})),n.d(e,"g",(function(){return _})),n.d(e,"q",(function(){return x})),n.d(e,"i",(function(){return w})),n.d(e,"n",(function(){return C})),n.d(e,"h",(function(){return V})),n.d(e,"a",(function(){return P})),n.d(e,"b",(function(){return D})),n.d(e,"d",(function(){return T})),n.d(e,"c",(function(){return E})),n.d(e,"x",(function(){return I})),n.d(e,"y",(function(){return R})),n.d(e,"s",(function(){return S}));var r=n("6b6c");function a(t){return Object(r["a"])({url:"setting/config/header_basics",method:"get",params:t})}function c(t,e){return Object(r["a"])({url:e,method:"get",params:t})}function i(t){return Object(r["a"])({url:"chat/kefu/login/".concat(t),method:"get"})}function o(t){return Object(r["a"])({url:"chat/speechcraft",method:"get",params:t})}function u(t){return Object(r["a"])({url:"chat/speechcraft/".concat(t,"/edit"),method:"get"})}function s(){return Object(r["a"])({url:"chat/speechcraft/create",method:"get"})}function l(t){return Object(r["a"])({url:"chat/feedback",method:"get",params:t})}function d(t){return Object(r["a"])({url:"chat/feedback/".concat(t,"/edit"),method:"get"})}function f(){return Object(r["a"])({url:"chat/speechcraftcate",method:"get"})}function h(){return Object(r["a"])({url:"chat/speechcraftcate/create",method:"get"})}function m(t){return Object(r["a"])({url:"chat/speechcraftcate/".concat(t,"/edit"),method:"get"})}function p(t){return Object(r["a"])({url:"setting/role",method:"GET",params:t})}function b(t){return Object(r["a"])({url:"setting/role/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function g(t){return Object(r["a"])({url:"setting/role/".concat(t.id),method:"post",data:t})}function v(t){return Object(r["a"])({url:"setting/role/".concat(t,"/edit"),method:"get"})}function O(){return Object(r["a"])({url:"setting/role/create",method:"get"})}function j(t){return Object(r["a"])({url:"chat/kefu",method:"get",params:t})}function k(t){return Object(r["a"])({url:"chat/kefu/create",method:"get",params:t})}function y(){return Object(r["a"])({url:"chat/kefu/add",method:"get"})}function _(t){return Object(r["a"])({url:"chat/kefu",method:"post",data:t})}function x(t){return Object(r["a"])({url:"chat/kefu/set_status/".concat(t.id,"/").concat(t.status),method:"PUT"})}function w(t){return Object(r["a"])({url:"chat/kefu/".concat(t,"/edit"),method:"GET"})}function C(t,e){return Object(r["a"])({url:"chat/kefu/record/".concat(e),method:"GET",params:t})}function V(t){return Object(r["a"])({url:"chat/kefu/chat_list",method:"GET",params:t})}function P(t){return Object(r["a"])({url:"chat/qrcode",method:"get",params:t})}function D(t){return Object(r["a"])({url:"chat/qrcode/".concat(t),method:"get"})}function T(t){return Object(r["a"])({url:"chat/statistics",method:"get",params:t})}function E(t){return Object(r["a"])({url:"chat/record",method:"get",params:t})}function I(t){return Object(r["a"])({url:"setting/verison",method:"get",params:t})}function R(t){return Object(r["a"])({url:"setting/verison/".concat(t),method:"get"})}function S(){return Object(r["a"])({url:"chat/record_kefu",method:"get"})}},e014:function(t,e,n){"use strict";var r=n("57aa"),a=n.n(r);a.a}}]);
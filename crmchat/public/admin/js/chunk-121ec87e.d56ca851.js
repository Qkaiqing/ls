(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-121ec87e"],{"0d7a":function(t,e,s){},4344:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pc_customerServer_container"},[s("div",{staticClass:"pc_customerServer_container_header"},[s("div",{staticClass:"pc_customerServer_container_header_title"},[s("img",{attrs:{src:t.chatServerData.to_user_avatar,alt:""}}),s("span",[t._v(t._s(t.chatServerData.to_user_nickname))])]),s("div",{staticClass:"pc_customerServer_container_header_handle",on:{click:t.closeIframe}},[s("span",{staticClass:"iconfont"},[t._v("")])])]),s("div",{staticClass:"pc_customerServer_container_content"},[t.isShowProductModel?s("div",{staticClass:"productMessage_container"},[s("div",{staticClass:"productMessage_container_image"},[s("img",{attrs:{src:t.productMessage.image,alt:""}})]),s("div",{staticClass:"productMessage_container_content"},[s("div",{staticClass:"productMessage_container_content_title"},[t._v(t._s(t.productMessage.store_name))]),s("div",{staticClass:"productMessage_container_content_priceOrHandle"},[s("div",[t._v("￥"+t._s(t.productMessage.price))]),s("div",{on:{click:t.sendProduct}},[t._v("发送客服")])])])]):t._e(),s("happy-scroll",{attrs:{size:"1",resize:"","hide-horizontal":"","scroll-top":t.scrollTop},on:{"vertical-start":t.scrollHandler}},[s("div",{staticClass:"scroll_content",class:{pt140:t.isShowProductModel},attrs:{id:"chat_scroll"}},[s("Spin",{directives:[{name:"show",rawName:"v-show",value:t.isLoad,expression:"isLoad"}]},[s("Icon",{staticClass:"demo-spin-icon-load",attrs:{type:"ios-loading",size:"18"}}),s("div",[t._v("Loading")])],1),s("div",{staticClass:"chart_list"},t._l(t.records,(function(e,a){return s("div",{key:a,staticClass:"chart_list_item"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"item.show"}],staticClass:"chart_list_item_time"},[t._v(t._s(e.time))]),s("div",{staticClass:"chart_list_item_content",class:{"right-box":e.user_id==t.chatServerData.user_id}},[s("div",{staticClass:"chart_list_item_avatar"},[s("img",{attrs:{src:e.avatar,alt:""}})]),e.msn_type<=2?s("div",{staticClass:"chart_list_item_text"},[s("span",{domProps:{innerHTML:t._s(t.replace_em(e.msn))}})]):t._e(),3==e.msn_type?s("div",{staticClass:"chart_list_item_img"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.msn,expression:"item.msn"}]})]):t._e(),5==e.msn_type?s("div",{staticClass:"chart_list_item_imgOrText"},[s("div",{staticClass:"order-wrapper"},[s("div",{staticClass:"img-box"},[s("img",{attrs:{src:e.other.image,alt:""}})]),s("div",{staticClass:"order-info"},[s("div",{staticClass:"price-box"},[s("div",{staticClass:"num"},[t._v("¥ "+t._s(e.other.price))])]),s("div",{staticClass:"name"},[t._v(t._s(e.other.store_name))])])])]):t._e()])])})),0)],1)])],1),s("div",{staticClass:"footer_customerServer_container"},[s("div",{staticClass:"mobel_customerServer_container_footer"},[s("div",{staticClass:"mobel_customerServer_container_footer_uploag_image"},[s("span",{staticClass:"iconfont"},[t._v("")]),s("input",{staticClass:"file_input",attrs:{type:"file"},on:{change:t.uploadFile}})]),s("div",{staticClass:"mobel_customerServer_container_footer_input"},[s("div",{staticClass:"mobel_customerServer_container_footer_input_con"},[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userMessage,expression:"userMessage"}],staticClass:"font",attrs:{placeholder:"请输入内容"},domProps:{value:t.userMessage},on:{focus:t.textareaInput,input:[function(e){e.target.composing||(t.userMessage=e.target.value)},function(e){return t.textareaChange(e)}]}}),s("p",{staticClass:"font",domProps:{innerHTML:t._s(t.pCont)}})]),s("div",{staticClass:"mobel_customerServer_container_footer_input_send",on:{click:t.sendText}},[s("span",{staticClass:"iconfont primary_color"},[t._v("")])])]),s("div",{staticClass:"mobel_customerServer_container_footer_emoji",on:{click:t.selectEmoji}},[s("span",{staticClass:"iconfont "},[t._v("")])])]),s("div",{staticClass:"mobel_customerServer_container_footer_emojiList",class:{canSelectemoji:2==t.inputConType}},t._l(t.emojiList,(function(e,a){return 2==t.inputConType?s("div",{key:a,staticClass:"emoji-item"},[s("i",{staticClass:"em",class:e,on:{click:function(s){return s.stopPropagation(),t.select(e)}}})]):t._e()})),0)])])},i=[],r=(s("8dee"),s("14fa")),o=s("7624"),c=s("c58a"),n={components:{HappyScroll:r["HappyScroll"]},mixins:[c["a"]],data:function(){return{isLoad:!1,scrollTop:0,emojiList:o["a"],pCont:""}},created:function(){},computed:{records:function(){var t=this;return this.chatServerData.serviceList.map((function(e,s){return e.time=t.$moment(1e3*e.add_time).format("MMMDo H:mm"),s?e.add_time-t.chatServerData.serviceList[s-1].add_time>=300?e.show=!0:e.show=!1:e.show=!0,e}))}},methods:{textareaChange:function(t){var e=t.target.value.replace(/\n\s(\s)*/gi,"\n");e=e.replace(/^\s*/gi,"");var s=e.replace(/</gi,"&lt;");s=e.replace(/\n(\n)*/gi,"<br>"),s=s.replace(/\s+/gi,"&nbsp;"),e=s.replace(/&nbsp;/gi," "),e=e.replace(/<br>/gi,"\n"),e=e.replace(/&lt;/gi,"<"),this.userMessage=e,this.pCont=s+"."},getScrollTop:function(){console.log(123)},getScrollEnd:function(){console.log(321)},replace_em:function(t){return t=t.replace(/\[em-([a-z_]*)\]/g,"<span class='em em-$1'/></span>"),t}}},l=n,_=(s("6d92"),s("5d22")),d=Object(_["a"])(l,a,i,!1,null,"56f63cb8",null);e["default"]=d.exports},"6d92":function(t,e,s){"use strict";s("0d7a")}}]);